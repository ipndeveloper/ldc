<div #controlarCerealesSection [ngClass]="{'collapse' : showCTGData}" id="controlarCerealesSection" class="container-fluid">
  <form [formGroup]="form" novalidate>
    <yrd-circuito [circuitoForm]="form.controls.circuito"> </yrd-circuito>
    <yrd-documento-porte #documentoPorte
      [tipoProducto]="tipoProductoSeleccionada" 
      [tipoDocumento]="tipoDocumentoSeleccionado"
      [tipoTransporte]="tipoTransporte"
      [maskRegex]="tipoDocPorteRegex"
      [esFueraCircuito]="esFueraCircuito"   
      [documentoPorteForm]="form.controls.documentoPorte">
    </yrd-documento-porte>
    <yrd-fecha-periodo-stock-san
      *ngIf="esFueraCircuito" 
      [fechaPeriodoStockSanForm]="form.controls.fechaPeriodoStockSan">
    </yrd-fecha-periodo-stock-san>
    <yrd-datos-documento-controlar-descarga-cereales 
      #datosDocumento
      [terminal]="terminal"      
      [esFueraCircuito]="esFueraCircuito"
      [maskRegex]="tipoDocPorteRegex"
      [tipoTransporte]="tipoTransporte"
      [circuitoContemplaCupo]="circuitoContemplaCupo"
      [formDocumentoPorte]="form.controls.documentoPorte"
      [ingresoConCupo]="ingresoConCupo"
      [ingresoSinCupo]="ingresoSinCupo"
      [debeDeshabilitarControlesPorMovimientoAplicadoEnSan]="debeDeshabilitarControlesPorMovimientoAplicadoEnSan"
      [circuito]="circuito"
      [esCartaPorteElectronica]="esCartaPorteElectronica"
      [confirmoCtg]="confirmoCtg"
      [esModificacionFueraDePuesto]="esModificacionFueraDePuesto"
      (esAfipAutomatico)="onEsAfipAutomatico($event)"
      >
    </yrd-datos-documento-controlar-descarga-cereales>
    <div class="mt-3">
      <div class="float-left" style="margin-bottom: 20pt">
        <button type="button" class="btn btn-primary" (click)="openConsultarDatosAfip()">Consultar Datos AFIP</button>
      </div>
      <div class="float-right" style="margin-bottom: 20pt">
        <button type="button" class="btn btn-success" (click)="aceptar()" [disabled]="botonesDeshabilitadosPorCupoInvalido">Aceptar</button>
        <button type="button" class="btn btn-danger" (click)="cancelar()">Cancelar</button>
      </div>
    </div>
  </form>
</div>

<div [ngClass]="{'collapse' : !showCTGData}" id="consultarDatosAfipSection" class="container-fluid">
  <yrd-consultar-datos-afip #consultarDatosAfip></yrd-consultar-datos-afip>
  <button type="button" class="btn btn-primary float-right" (click)="closeConsultarDatosAfip()">Cerrar</button>
</div>


<!-- <pre>Form value: {{ form.value | json }}</pre>
<pre>Form status: {{ form.status | json }}</pre> -->
